<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>
      Suas Empresas
    </ion-title>
  </ion-navbar>
</ion-header>


<ion-content padding>

    <ion-card *ngIf="!companies">
      <ion-item (click)="open(add_company)">
          <ion-icon name="ios-add-circle-outline" item-start large></ion-icon>
          <h2>Você não tem empresas</h2>
          <p>Clique aqui para adicionar uma nova empresa.</p>
      </ion-item>
    </ion-card>

    <ion-card *ngIf="companies">
      <ion-item (click)="open(add_company)">
          <ion-icon name="ios-add-circle-outline" item-start large></ion-icon>
          <h2>Adicione uma empresa</h2>
          <p>Clique aqui!</p>
      </ion-item>
    </ion-card>

    <ion-card *ngFor="let item of companies">
 
      <ion-card-header>
        {{ item.name }}
      </ion-card-header>
 
      <ion-card-content>
        <p><strong>{{ item.goJob }}</strong> - <strong *ngIf="!item.isMyActualJob"> {{ item.outJob }} </strong><strong *ngIf="item.isMyActualJob"> até o momento</strong></p>
        <p *ngFor="let address of item.addresses">{{address.description}}</p>
      </ion-card-content>

      <ion-row>
        <ion-col>
          <button color="danger" ion-button icon-start clear small (click)="removeCompany(item.id)">
            <ion-icon name="ios-trash-outline"></ion-icon>
            <div>Remover</div>
          </button>
        </ion-col>
        <ion-col>
          <button ion-button icon-start clear small (click)="updateCompany(item.id)">
            <ion-icon name="ios-trash-outline"></ion-icon>
            <div>Atualizar</div>
          </button>
        </ion-col>
      </ion-row>
 
    </ion-card>

</ion-content>
